<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Folder Animation</title>
  <style>
    body {
      background: #111;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }

    .icon {
      width: 40vw;              /* responsive: 40% of viewport */
      max-width: 525px;         /* cap at native width */
      aspect-ratio: 525 / 400;  /* lock proportions */
      background: url("folder-sprite.png") no-repeat 0 0;
      background-size: 500% auto; /* 5 frames across = 500% */
      cursor: pointer;
    }

    /* Correct frame positions for 5 frames */
    .frame1 { background-position:   0% 0; }
    .frame2 { background-position: -20% 0; }
    .frame3 { background-position: -40% 0; }
    .frame4 { background-position: -60% 0; }
    .frame5 { background-position: -80% 0; }
  </style>
</head>
<body>
  <div class="icon frame1" id="folder"></div>

  <script>
    const folder = document.getElementById("folder");
    const frames = ["frame1", "frame2", "frame3", "frame4", "frame5"];
    let animating = false;

    function setFrame(index) {
      folder.className = "icon " + frames[index];
    }

    function animateFrames(forward = true) {
      if (animating) return;
      animating = true;

      let i = forward ? 0 : frames.length - 1;
      const step = setInterval(() => {
        setFrame(i);
        i = forward ? i + 1 : i - 1;

        if (i >= frames.length || i < 0) {
          clearInterval(step);
          animating = false;
        }
      }, 40); // 5 frames * 40ms = 200ms total
    }

    // Hover → open
    folder.addEventListener("mouseenter", () => animateFrames(true));

    // Hover out → close
    folder.addEventListener("mouseleave", () => animateFrames(false));

    // Click → full-page redirect
    folder.addEventListener("click", () => {
      window.location.assign("https://halo.forgebunker.com");
    });
  </script>
</body>
</html>
