<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Folder Animation</title>
  <style>
    body {
      background: #111;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }

    .icon {
      width: 100%;
      max-width: 498px;
      aspect-ratio: 498 / 300;
      background: url("folder-sprite.png") no-repeat left center;
      background-size: 500% 100%; /* 5 frames across */
      cursor: pointer;
    }

    /* Animation definition */
    @keyframes folderOpen {
      from { background-position:   0% 0; }  /* frame 1 */
      to   { background-position: 100% 0; }  /* frame 5 */
    }

    .open {
      animation: folderOpen 0.5s steps(4) forwards;
    }

    @keyframes folderClose {
      from { background-position: 100% 0; }  /* frame 5 */
      to   { background-position:   0% 0; }  /* frame 1 */
    }

    .close {
      animation: folderClose 0.5s steps(4) forwards;
    }
  </style>
</head>
<body>
  <div class="icon" id="folder"></div>

  <script>
    const folder = document.getElementById("folder");
    let isOpen = false;

    folder.addEventListener("click", () => {
      if (!isOpen) {
        folder.classList.remove("close");
        folder.classList.add("open");

        // Redirect after animation finishes
        folder.addEventListener("animationend", () => {
          if (isOpen === false) { // prevent double-firing
            window.location.href = "https://forgebunker.com";
          }
        }, { once: true });

        isOpen = true;
      } else {
        folder.classList.remove("open");
        folder.classList.add("close");
        isOpen = false;
      }
    });
  </script>
</body>
</html>
