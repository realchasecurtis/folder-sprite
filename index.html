<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Folder Animation</title>
  <style>
    body {
      background: #111;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }

    .icon {
      width: min(40vw, 525px);   /* responsive, capped at native width */
      aspect-ratio: 525 / 400;   /* keep proportions */
      background: url("folder-sprite.png") no-repeat 0 0;
      background-size: 500% 100%; /* 5 frames across → 500% */
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div class="icon" id="folder"></div>

  <script>
    const folder = document.getElementById("folder");
    const totalFrames = 5;
    let animating = false;

    function setFrame(index) {
      const percent = -(100 / (totalFrames - 1)) * index;
      folder.style.backgroundPosition = `${percent}% 0`;
    }

    function animate(forward = true) {
      if (animating) return;
      animating = true;

      let i = forward ? 0 : totalFrames - 1;
      const step = setInterval(() => {
        setFrame(i);
        i = forward ? i + 1 : i - 1;

        if (i >= totalFrames || i < 0) {
          clearInterval(step);
          animating = false;
        }
      }, 40); // 5 frames × 40ms = 200ms total
    }

    // Hover animations (desktop)
    folder.addEventListener("mouseenter", () => animate(true));
    folder.addEventListener("mouseleave", () => animate(false));

    // Click → hard redirect (mobile + desktop safe)
    folder.addEventListener("click", () => {
      window.location.href = "https://halo.forgebunker.com";
      // using .href avoids sandbox behavior; it's a hard navigation
    });
  </script>
</body>
</html>
