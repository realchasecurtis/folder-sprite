<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Folder Animation</title>
  <style>
    body {
      background: #111;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }

    .icon {
      width: 525px;   /* single frame width */
      height: 400px;  /* single frame height */
      background: url("folder-sprite.png") no-repeat 0 0;
      background-size: auto 400px; /* use full sprite width, keep height aligned */
      cursor: pointer;
    }

    /* Explicit frames (spacing = 50px, so stride = 575px) */
    .frame1 { background-position:    0px 0; }
    .frame2 { background-position: -575px 0; }
    .frame3 { background-position: -1150px 0; }
    .frame4 { background-position: -1725px 0; }
    .frame5 { background-position: -2300px 0; }
  </style>
</head>
<body>
  <div class="icon frame1" id="folder"></div>

  <script>
    const folder = document.getElementById("folder");
    const frames = ["frame1", "frame2", "frame3", "frame4", "frame5"];
    let currentFrame = 0;
    let animating = false;

    // helper: switch frame
    function setFrame(index) {
      folder.className = "icon " + frames[index];
      currentFrame = index;
    }

    // animate forward (open)
    function animateOpen() {
      if (animating) return;
      animating = true;
      let i = 0;
      const interval = setInterval(() => {
        setFrame(i);
        i++;
        if (i >= frames.length) {
          clearInterval(interval);
          animating = false;
        }
      }, 40); // faster: 40ms per frame ≈ 160ms total
    }

    // animate backward (close)
    function animateClose() {
      if (animating) return;
      animating = true;
      let i = frames.length - 1;
      const interval = setInterval(() => {
        setFrame(i);
        i--;
        if (i < 0) {
          clearInterval(interval);
          animating = false;
        }
      }, 40);
    }

    // Hover → animate open
    folder.addEventListener("mouseenter", animateOpen);

    // Hover out → animate close
    folder.addEventListener("mouseleave", animateClose);

    // Click → redirect
    folder.addEventListener("click", () => {
      window.location.href = "https://forgebunker.com";
    });
  </script>
</body>
</html>
